<nav class="sidebar" style="width:260px; padding:1rem; border-right:1px solid #ccc;">

  <!-- Bible -->
  <h3>Bible</h3>
  <ul>
    {% assign bible_paths = site.bible | sort: "order" %}
    {% assign processed_dirs = "" | split: "" %}

    {% for doc in bible_paths %}
      {% assign parts = doc.path | split: "/" %}
      {% assign dir_parts = parts | slice: 1, parts.size | slice: 0, parts.size-1 %}
      {% assign dir = dir_parts | join: "/" %}

      {% unless processed_dirs contains dir %}
        {% assign processed_dirs = processed_dirs | push: dir %}

        {% if dir != "" %}
          <li>
            ğŸ“ {{ dir | split: "/" | last | capitalize }}
            <ul>
              {% for child in bible_paths %}
                {% assign child_parts = child.path | split: "/" %}
                {% assign child_dir_parts = child_parts | slice: 1, child_parts.size | slice: 0, child_parts.size-1 %}
                {% assign child_dir = child_dir_parts | join: "/" %}
                {% if child_dir == dir %}
                  <li>
                    ğŸ“„ <a href="{{ child.url }}" {% if page.url == child.url %}style="font-weight:bold"{% endif %}>
                      {{ child.title }}
                    </a>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          </li>
        {% else %}
          <li>
            ğŸ“„ <a href="{{ doc.url }}" {% if page.url == doc.url %}style="font-weight:bold"{% endif %}>
              {{ doc.title }}
            </a>
          </li>
        {% endif %}
      {% endunless %}
    {% endfor %}
  </ul>

  <!-- Docs -->
  <h3>Documentazione</h3>
  <ul>
    {% assign docs_paths = site.docs | sort: "order" %}
    {% for doc in docs_paths %}
      <li>
        ğŸ“„ <a href="{{ doc.url }}" {% if page.url == doc.url %}style="font-weight:bold"{% endif %}>
          {{ doc.title }}
        </a>
      </li>
    {% endfor %}
  </ul>

</nav>
